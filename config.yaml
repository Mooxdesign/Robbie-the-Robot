robot:
  name: Robbie
  debug: true
features:
  voice_enabled: true
motor:
  dc_motors:
    acceleration: 0.1
    max_speed: 1.0
    update_rate: 50
  servos:
    left_arm:
      channel: 0
      min_pulse: 800
      max_pulse: 2500
    right_arm:
      channel: 1
      min_pulse: 700
      max_pulse: 2400
    head_pan:
      channel: 14
      min_pulse: 500
      max_pulse: 2200
    head_tilt:
      channel: 15
      min_pulse: 1000
      center_pulse: 1500  # Keep for asymmetric tilt if needed
      max_pulse: 1800
vision:
  camera:
    width: 640
    height: 480
    framerate: 30
  object_detection:
    model_path: models/yolov5s.pt
    confidence: 0.5
    classes:
    - person
    - cat
    - dog
audio:
  sample_rate: 22050
  channels: 1
  chunk_size: 1024
voice:
  wake_word: porcupine
  language: en-US
  speech_rate: 140
  pre_speech_delay: 0.3
ai:
  model: gpt-3.5-turbo
  temperature: 0.7
  max_tokens: 100
  debug: true
lights:
  width: 8
  height: 4
  max_brightness: 0.5
  update_rate: 30
joystick:
  deadzone: 0.1
  smoothing: 0.2
  mappings:
    drive_movement: 1     # Left stick Y (forward/backward, inverted in code)
    drive_steering: 0     # Left stick X (left/right turn)
    left_arm: 5           # Right trigger
    right_arm: 2          # Left trigger (inverted in code)
    head_pan: 3           # Right stick horizontal
    head_tilt: 4          # Right stick vertical
  head_control:
    mode: "absolute"  # "absolute" or "velocity"
    velocity_speed: 90.0  # degrees per second for velocity mode
    update_rate: 30  # Hz - how often to update position in velocity mode
  button_actions:
    # Single button actions
    0:  # A button
      action: "confirm"
      description: "Confirm action"
    1:  # B button
      action: "cancel"
      description: "Cancel action"
    2:  # X button
      action: "wave"
      description: "Wave gesture"
    3:  # Y button
      action: "wake_robot"
      description: "Wake the robot"
    4:  # Left bumper
      action: "look_left"
      description: "Quick look left"
    5:  # Right bumper
      action: "look_right"
      description: "Quick look right"
    6:  # Back/Select
      action: "reset_position"
      description: "Reset to neutral position"
    7:  # Start
      action: "emergency_stop"
      description: "Emergency stop all motors"
  button_combinations:
    # Button combinations (list of buttons that must be pressed together)
    # Format: [button1, button2, ...]: action_config
    "[4, 5]":  # Both bumpers
      action: "center_head"
      description: "Center head position"
      hold_time: 0.5  # Seconds to hold before triggering
    "[0, 1]":  # A + B
      action: "calibrate"
      description: "Calibrate servos"
      hold_time: 1.0
    "[6, 7]":  # Back + Start
      action: "shutdown"
      description: "Graceful shutdown"
      hold_time: 2.0
    "[2, 3]":  # X + Y
      action: "toggle_voice"
      description: "Toggle voice recognition"
      hold_time: 0.3
    "[4, 0]":  # Left bumper + A
      action: "save_position"
      description: "Save current servo positions"
      hold_time: 0.5
    "[5, 0]":  # Right bumper + A
      action: "load_position"
      description: "Load saved servo positions"
      hold_time: 0.5
sensors:
  update_rate: 52
  threshold: 98
